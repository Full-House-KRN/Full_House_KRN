<!DOCTYPE html>
<html>
    <head>
        <title>Insert Data</title>
        
        <meta name="viewport" content="width=700">

        <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

        <link rel="stylesheet" href="assets/style.css"> 
    
        <script type="text/javascript" src="config.js"></script>

        <style>
            
        </style>
    </head>

    <body class="body">
        <div class="login-page">
            <div class="form">
              <div class="login">
                <div class="login-header">
                  <h3>User Data</h3>
                  <p>Please enter your credentials</p>
                </div>
              </div>
              <div>
                <input type="text"  placeholder="Name" id="name"/><br><br>
                <input tyep="text" placeholder="Age" id="age" /><br><br>
                <input tyep="text" placeholder="Blood group" id="bg" /><br><br>
                <input tyep="text" placeholder="DOB" id="dob" /><br><br>
                <input tyep="text" placeholder="Spouse" id="sp" /><br><br>
                <label for='Gender'>Gender : </label>
                <select name="Gender" id="gender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                
                <br><br>
                 Kindly press the <strong>submit</strong> once
                 <br><br>
                <button class="button" id="insert">submit</button>
              </div>
            </div>
        </div>

        <!--<h3> Insert User Data </h3>
        <div>
            <input type="text"  placeholder="Name" id="name"/><br><br>
            <input tyep="text" placeholder="Age" id="age" /><br><br>
            <input tyep="text" placeholder="Blood group" id="bg" /><br><br>
            <input tyep="text" placeholder="DOB" id="dob" /><br><br>
            <input tyep="text" placeholder="Spouse" id="sp" /><br><br>
            <label for='Gender'>Gender : </label>
            <select name="Gender" id="gender">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>
            
            <br><br>
            <button id="insert">Insert</button>
        </div> -->
        
        <div id="Res"></div>

        <script>
            var apiKey = config.apiKey;
            var authDomain = config.authDomain;
            var projectId = config.projectId;
            var storageBucket = config.storageBucket;
            var messagingSenderId = config.messagingSenderId;
            var appId = config.appId;
            var databaseURL = config.databaseURL;

            var firebaseConfig = {
                apiKey,
                authDomain,
                databaseURL,
                projectId,
                storageBucket,
                messagingSenderId,
                appId
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);

            var namev,agev,dobv,bgv,spv,genv;
            function Ready() {
                namev = document.getElementById('name').value;
                agev = document.getElementById('age').value;
                dobv = document.getElementById('dob').value;
                bgv = document.getElementById('bg').value;
                spv = document.getElementById('sp').value;
                genv = document.getElementById('gender').value;
            }
            

            
            document.getElementById('insert').onclick = function (){
                Ready();
                if (genv == "Male"){
                    var avatar = "https://image.flaticon.com/icons/png/128/1999/1999625.png";
                }
                else{
                    var avatar = "https://image.flaticon.com/icons/png/128/1999/1999628.png";
                }
                firebase.database().ref('KRN family/' + namev).set({
                    Age: 'Age -' + agev +' years',
                    Blood: 'Blood Group - ' + bgv,
                    DOB: 'DOB - ' + dobv,
                    Spouse: 'Spouse - '+spv,
                    avatar : avatar
                    
                })
                if(!window.Notification) {
                    console.log('Browser does not support notifications.');
                } else {
                    // display message here
                    alert('Data updated, Thank You :)')
                    
                }
            }
            
        </script>
    </body>
</html>